<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIOT æ™ºæ…§æ§åˆ¶ä¸­å¿ƒ</title>
    
    <!-- å¼•å…¥ Tailwind CSS é€²è¡Œå¿«é€Ÿä¸”ç¾ä»£åŒ–çš„æ¨£å¼è¨­è¨ˆ -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Webduino æ ¸å¿ƒå‡½å¼åº« -->
    <script src="https://webduino.io/components/webduino-js/dist/webduino-all.min.js"></script>
    <script src="https://webduinoio.github.io/webduino-blockly/webduino-blockly.js"></script>
    
    <!-- å¼•å…¥å­—å‹ -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- è‡ªå®šç¾©å‹•ç•«èˆ‡æ¨£å¼èª¿æ•´ -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate 900 */
            overflow-x: hidden;
        }
        
        /* èƒŒæ™¯å‹•æ…‹å…‰æšˆå‹•ç•« */
        @keyframes float {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
        }
        
        .blob {
            position: absolute;
            filter: blur(80px);
            z-index: 0;
            animation: float 10s infinite ease-in-out;
        }
        
        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* ç‡ˆæ³¡ç™¼å…‰æ•ˆæœ */
        .glow-effect {
            filter: drop-shadow(0 0 15px rgba(251, 191, 36, 0.6));
            transition: all 0.5s ease;
        }
    </style>
<link rel="stylesheet" href="/index.css">
</head>
<body class="min-h-screen flex items-center justify-center text-slate-200 relative selection:bg-cyan-500 selection:text-white">

    <!-- èƒŒæ™¯è£é£¾ -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="blob bg-purple-600/30 w-96 h-96 rounded-full top-0 left-0 mix-blend-screen"></div>
        <div class="blob bg-cyan-600/20 w-96 h-96 rounded-full bottom-0 right-0 mix-blend-screen animation-delay-2000"></div>
        <div class="blob bg-blue-600/20 w-80 h-80 rounded-full top-1/2 left-1/2 mix-blend-screen animation-delay-4000"></div>
    </div>

    <!-- ä¸»å®¹å™¨ (èª¿æ•´ç‚º max-w-lg ä»¥å®¹ç´å››å€‹æŒ‰éˆ•) -->
    <div class="container mx-auto px-4 relative z-10 max-w-lg w-full">
        
        <!-- æ¨™é¡Œå€ -->
        <header class="text-center mb-8">
            <div class="inline-flex items-center justify-center p-3 mb-4 bg-white/5 rounded-2xl border border-white/10 shadow-lg backdrop-blur-sm">
                <!-- CPU Icon SVG -->
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-cyan-400 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line></svg>
                <h1 class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-500">
                    AIOTæ§åˆ¶ä¸­å¿ƒ
                </h1>
            </div>
            <p class="text-slate-400 text-sm tracking-widest uppercase">æ™ºæ…§é›²ç«¯ Â· éš¨å¿ƒæŒæ§</p>
        </header>

        <!-- æ§åˆ¶é¢æ¿å¡ç‰‡ -->
        <div class="glass-panel rounded-3xl p-6 md:p-8 transform transition-all hover:scale-[1.01] duration-500">
            
            <!-- é¸å–®å€ -->
            <div class="mb-8">
                <label class="flex items-center text-slate-400 font-semibold mb-3 text-xs uppercase tracking-wider">
                    <!-- Navigation Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2 text-cyan-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg>
                    é¸æ“‡æ§åˆ¶å…ƒä»¶
                </label>
                <div class="relative group">
                    <select id="deviceSelect" 
                        class="w-full appearance-none bg-slate-900/50 text-slate-200 border border-slate-700 rounded-xl px-4 py-3 pr-10 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all cursor-pointer hover:bg-slate-800/80 hover:border-slate-600">
                        <option value="#">è«‹é¸æ“‡æ§åˆ¶å…ƒä»¶...</option>
                        <option value="all-examples.html">ğŸ“š æ‰€æœ‰ç¯„ä¾‹ç¸½è¦½</option>
                        <optgroup label="é é¢å°èˆª" class="bg-slate-800">
                            <option value="page-1.html">å‰å¾€ç¬¬ä¸€é </option>
                            <option value="page-2.html">å‰å¾€ç¬¬äºŒé </option>
                        </optgroup>
                        <optgroup label="Smart ç³»åˆ—" class="bg-slate-800">
                            <option value="rgbled-smart.html">ä¸‰è‰² LED - Smart</option>
                            <option value="photoresistor-smart.html">å…‰æ•é›»é˜» - Smart</option>
                        </optgroup>
                        <optgroup label="åŸºç¤å…ƒä»¶" class="bg-slate-800">
                            <option value="rgbled-01.html">ä¸‰è‰² LED</option>
                            <option value="sonic-01.html">è¶…éŸ³æ³¢ 01</option>
                            <option value="sonic-02.html">è¶…éŸ³æ³¢ 02</option>
                            <option value="sonic-03.html">è¶…éŸ³æ³¢ 03</option>
                            <option value="button-01.html">æŒ‰éˆ•ç‹€æ…‹</option>
                            <option value="button-02.html">æŒ‰éˆ•ç´¯åŠ </option>
                        </optgroup>
                    </select>
                    <div class="absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none text-slate-500 group-hover:text-cyan-400 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                    </div>
                </div>
            </div>

            <!-- å¿«é€ŸæŒ‰éˆ•å€ (æ”¹ç‚º 4 æ¬„) -->
            <div class="grid grid-cols-4 gap-2 mb-8">
                <button onclick="location.href='rgbled-smart.html'" class="group relative overflow-hidden rounded-xl p-2 transition-all duration-300 hover:shadow-lg hover:scale-105 bg-gradient-to-br from-pink-500/80 to-rose-600/80 text-white">
                    <div class="flex flex-col items-center justify-center space-y-1 h-full">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="13.5" cy="6.5" r=".5"></circle><circle cx="17.5" cy="10.5" r=".5"></circle><circle cx="8.5" cy="7.5" r=".5"></circle><circle cx="6.5" cy="12.5" r=".5"></circle><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"></path></svg>
                        <span class="text-[10px] md:text-xs font-bold whitespace-nowrap">SMä¸‰è‰²</span>
                    </div>
                </button>
                <button onclick="location.href='photoresistor-smart.html'" class="group relative overflow-hidden rounded-xl p-2 transition-all duration-300 hover:shadow-lg hover:scale-105 bg-gradient-to-br from-amber-400/80 to-orange-500/80 text-white">
                    <div class="flex flex-col items-center justify-center space-y-1 h-full">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                        <span class="text-[10px] md:text-xs font-bold whitespace-nowrap">SMå…‰æ•</span>
                    </div>
                </button>
                <button onclick="location.href='sonic-03.html'" class="group relative overflow-hidden rounded-xl p-2 transition-all duration-300 hover:shadow-lg hover:scale-105 bg-gradient-to-br from-emerald-400/80 to-teal-600/80 text-white">
                    <div class="flex flex-col items-center justify-center space-y-1 h-full">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line></svg>
                        <span class="text-[10px] md:text-xs font-bold whitespace-nowrap">è¶…éŸ³æ³¢</span>
                    </div>
                </button>
                <button onclick="location.href='all-examples.html'" class="group relative overflow-hidden rounded-xl p-2 transition-all duration-300 hover:shadow-lg hover:scale-105 bg-gradient-to-br from-indigo-500/80 to-blue-600/80 text-white">
                    <div class="flex flex-col items-center justify-center space-y-1 h-full">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>
                        <span class="text-[10px] md:text-xs font-bold whitespace-nowrap">æ‰€æœ‰ç¯„ä¾‹</span>
                    </div>
                </button>
            </div>

            <div class="h-px w-full bg-slate-700/50 mb-8"></div>

            <!-- ç‡ˆå…‰æ§åˆ¶å€ -->
            <div class="flex flex-col items-center">
                
                <!-- ç‡ˆæ³¡å®¹å™¨ -->
                <div id="lightContainer" class="relative mb-6 transition-all duration-700">
                    <!-- ç™¼å…‰èƒŒæ™¯ -->
                    <div id="glowBg" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 rounded-full bg-amber-400/0 blur-[50px] transition-all duration-700"></div>
                    
                    <!-- ç‡ˆæ³¡ SVG -->
                    <div class="relative z-10 p-6 rounded-full bg-slate-800 border-4 border-slate-700 shadow-xl transition-all duration-500" id="lightIconBg">
                        <svg id="lightIcon" xmlns="http://www.w3.org/2000/svg" class="w-16 h-16 text-slate-500 transition-colors duration-500" viewBox="0 0 24 24" fill="currentColor" stroke="none">
                            <path d="M9 21h6v-1.5H9V21zM12 2C8.13 2 5 5.13 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.87-3.13-7-7-7z"/>
                        </svg>
                    </div>
                </div>

                <!-- é–‹é—œæŒ‰éˆ• -->
                <button id="toggleBtn" onclick="toggleLight()" class="w-full py-4 px-6 rounded-xl font-bold text-lg flex items-center justify-center space-x-3 transition-all duration-300 shadow-lg active:scale-95 bg-slate-700 text-slate-300 hover:bg-slate-600">
                    <svg id="powerIcon" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line></svg>
                    <span id="btnText">ç‡ˆå…‰å·²é—œé–‰</span>
                </button>

                <!-- ç‹€æ…‹æŒ‡ç¤º -->
                <div class="mt-4 flex items-center space-x-2 text-xs font-medium uppercase tracking-wider">
                    <span id="statusDot" class="w-2 h-2 rounded-full bg-slate-500"></span>
                    <span id="statusText" class="text-slate-500">ç­‰å¾…é€£ç·š...</span>
                </div>

            </div>
        </div>

        <footer class="mt-8 text-center text-slate-600 text-xs">
            <p>Â© 2025 AIOT Web Project - Design by Creative Director</p>
        </footer>
    </div>

    <!-- é‚è¼¯æ§åˆ¶è…³æœ¬ -->
    <script>
        let isLightOn = false;
        let isConnected = false;

        // ç¢ºä¿ DOM è¼‰å…¥å¾ŒåŸ·è¡Œåˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // ç¶å®šä¸‹æ‹‰é¸å–®äº‹ä»¶ï¼Œç¢ºä¿å°èˆªåŠŸèƒ½æ­£å¸¸é‹ä½œ
            const deviceSelect = document.getElementById('deviceSelect');
            if (deviceSelect) {
                deviceSelect.addEventListener('change', function() {
                    const value = this.value;
                    if (value && value !== '#') {
                        // ä½¿ç”¨ window.location.href é€²è¡Œæ˜ç¢ºçš„é é¢è·³è½‰
                        window.location.href = value;
                    }
                });
            }
        });

        // ç‡ˆå…‰åˆ‡æ›å‡½å¼
        function toggleLight() {
            const lightIcon = document.getElementById('lightIcon');
            const lightIconBg = document.getElementById('lightIconBg');
            const glowBg = document.getElementById('glowBg');
            const toggleBtn = document.getElementById('toggleBtn');
            const btnText = document.getElementById('btnText');
            const statusDot = document.getElementById('statusDot');
            const statusText = document.getElementById('statusText');

            // åˆ‡æ›ç‹€æ…‹
            isLightOn = !isLightOn;

            // UI æ›´æ–°é‚è¼¯ (Optimistic UI)
            if (isLightOn) {
                // é–‹ç‡ˆæ¨£å¼
                lightIcon.classList.replace('text-slate-500', 'text-amber-100');
                lightIconBg.classList.replace('bg-slate-800', 'bg-gradient-to-br');
                lightIconBg.classList.add('from-amber-200', 'to-amber-400', 'border-amber-200', 'glow-effect');
                lightIconBg.classList.remove('border-slate-700');
                
                glowBg.classList.replace('bg-amber-400/0', 'bg-amber-400/40');
                
                toggleBtn.className = "w-full py-4 px-6 rounded-xl font-bold text-lg flex items-center justify-center space-x-3 transition-all duration-300 shadow-lg active:scale-95 bg-gradient-to-r from-amber-400 to-orange-500 text-white shadow-amber-500/30";
                btnText.innerText = "ç‡ˆå…‰å·²é–‹å•Ÿ";
                
                statusText.innerText = "æ­£åœ¨å‚³é€æŒ‡ä»¤...";
                statusDot.className = "w-2 h-2 rounded-full bg-yellow-400 animate-ping";

                // Webduino é‚è¼¯ï¼šé–‹ç‡ˆ
                if (typeof boardReady === 'function') {
                    boardReady('nbQD', function (board) {
                        board.samplingInterval = 20;
                        let led = getLed(board, 10);
                        led.on();
                        
                        // é€£ç·šæˆåŠŸå›é¥‹
                        statusText.innerText = "è£ç½®å·²é€£ç·š";
                        statusText.classList.replace('text-slate-500', 'text-green-400');
                        statusDot.className = "w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]";
                    });
                } else {
                    console.log("Webduino ç’°å¢ƒæœªè¼‰å…¥ï¼Œåƒ…å±•ç¤º UI æ•ˆæœ");
                    statusText.innerText = "æ¨¡æ“¬æ¨¡å¼ (ç„¡ç¡¬é«”)";
                }

            } else {
                // é—œç‡ˆæ¨£å¼
                lightIcon.classList.replace('text-amber-100', 'text-slate-500');
                lightIconBg.classList.remove('bg-gradient-to-br', 'from-amber-200', 'to-amber-400', 'border-amber-200', 'glow-effect');
                lightIconBg.classList.add('bg-slate-800', 'border-slate-700');
                
                glowBg.classList.replace('bg-amber-400/40', 'bg-amber-400/0');
                
                toggleBtn.className = "w-full py-4 px-6 rounded-xl font-bold text-lg flex items-center justify-center space-x-3 transition-all duration-300 shadow-lg active:scale-95 bg-slate-700 text-slate-300 hover:bg-slate-600";
                btnText.innerText = "ç‡ˆå…‰å·²é—œé–‰";
                
                statusText.innerText = "å¾…æ©Ÿä¸­";
                statusText.classList.replace('text-green-400', 'text-slate-500');
                statusDot.className = "w-2 h-2 rounded-full bg-slate-500";

                // Webduino é‚è¼¯ï¼šé—œç‡ˆ
                if (typeof boardReady === 'function') {
                    boardReady('nbQD', function (board) {
                        board.samplingInterval = 20;
                        let led = getLed(board, 10);
                        led.off();
                    });
                }
            }
        }
    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>